# Face Login

Face Login is a facial recognition-based authentication system designed to make logging into applications more secure and convenient. This project provides a demo of how you can integrate facial recognition technology for user authentication.

## Features

- Facial recognition for secure authentication
- High accuracy and fast response times
- Easy to integrate into existing applications

## How It Works

At the core of facial recognition is a concept called **face embedding**. A face embedding is a fixed-size numerical representation (vector) of a person's face, generated by a deep learning model like **FaceNet**. This vector captures the unique features of the face, allowing the system to distinguish between different people based on their facial geometry.

### How Face Embeddings Work

1. **Feature Extraction**

   - When a face image is passed to a model like FaceNet, the model analyzes features such as the eyes, nose, jawline, and other distinctive aspects of the face.

2. **Embedding Generation**

   - The model then generates a **128-dimensional or 512-dimensional vector**, known as the **face embedding**, which compactly encodes the unique features of that face.

3. **Comparison**

   - To determine if two faces belong to the same person, the system compares their embeddings using either **Euclidean distance** or **cosine similarity**.
   - Smaller distances or higher cosine similarity values indicate greater similarity, meaning the faces are more likely to be from the same person.

### Common Use Cases

- **Face Verification:** Ensures that two faces are from the same person (e.g., for biometric security purposes).
- **Face Recognition:** Identifies a person from a database of stored faces.
- **Face Clustering:** Groups similar faces together without needing prior labels.

## Technical Workflow

### 1. Image Capture and Transmission

- The frontend captures an image of a person's face and sends it to the backend for processing.

### 2. Face Embedding Extraction (Using FaceNet)

- The backend uses **FaceNet** to extract a **128-dimensional or 512-dimensional face embedding** from the image.
- This embedding represents the unique facial features, optimized using a technique called **triplet loss**.

### 3. Embedding Search in Milvus Database

- The extracted face embedding is compared with existing embeddings stored in the **Milvus database**, which is optimized for managing and querying large-scale vector data.

#### **HNSW Indexing**

- **HNSW (Hierarchical Navigable Small World)** is a graph-based indexing method that makes searching for approximate nearest neighbors (ANN) in high-dimensional data much faster.
- This indexing method is perfect for efficiently finding embeddings that are similar to the one just extracted.

#### **Cosine Similarity**

- **Cosine similarity** is used to calculate how similar two face embeddings are by measuring the angle between them.
- A high cosine similarity score (closer to **1**) means the embeddings likely represent the same person.

### 4. Decision Process

- **If a match is found:**
  - The system retrieves the corresponding metadata (such as user information) from the Milvus database.
- **If no match is found:**
  - The system stores the new embedding along with other relevant metadata (e.g., user info, timestamp) in Milvus for future reference.

---

## Key Technical Benefits

- **Fast Retrieval:** HNSW indexing ensures that searching for similar embeddings is much faster than traditional brute-force methods.
- **Accurate Matching:** Cosine similarity helps accurately distinguish between face embeddings, even in high-dimensional spaces.
- **Scalable:** Milvus can handle massive amounts of face data, making it suitable for large-scale face recognition applications.

---

# Understanding HNSW Indexing and Cosine Similarity Search

### **HNSW Indexing (Hierarchical Navigable Small World)**

HNSW is an efficient graph-based indexing method that accelerates approximate nearest neighbor (ANN) searches in high-dimensional spaces. Here's how it works:

1. **Building the Graph**

   - HNSW constructs a multi-level graph where each node represents a data point (in this case, a face embedding).
   - The graph contains multiple levels, with the nodes at the top level connected sparsely and the nodes at the bottom level more densely connected.

2. **Searching the Graph**

   - When performing a search, HNSW starts from the topmost level and navigates through the graph, progressively zooming in on the closest neighbors.
   - The search continues until a satisfactory match is found, ensuring a fast and efficient search process.

3. **Benefits of HNSW**

   - **Efficiency:** By limiting the number of neighbors at each level, HNSW significantly reduces search time compared to brute-force approaches.
   - **Scalability:** It's ideal for large datasets, as the search complexity is logarithmic relative to the number of data points.
   - **Memory Efficiency:** HNSW offers a good balance between memory usage and search performance, making it suitable for real-time applications.

### **Cosine Similarity Search**

Cosine similarity is a measure of the similarity between two vectors, and it’s widely used for tasks like face recognition. Here's how it works:

1.  **How It Works**

    ```math

    cosine_similarity(A, B) = \frac{A \cdot B}{\|A\| \|B\|}

    ```

- **A · B** is the dot product of vectors **A** and **B**.
- **\|A\|** and **\|B\|** are the magnitudes (or norms) of the vectors **A** and **B**.

- Cosine similarity measures the angle between two vectors. The smaller the angle, the more similar the vectors are.
- A cosine similarity score of **1** indicates the vectors are identical (i.e., the same face).
- A score closer to **0** means the vectors are less similar, and a score closer to **-1** indicates opposite vectors.

2. **Why Cosine Similarity Is Used in Face Recognition**

   - Face embeddings are high-dimensional vectors, and cosine similarity is effective for comparing such vectors. It measures how close two vectors are in direction, making it ideal for comparing facial features, even with minor differences (like lighting or pose).

3. **HNSW and Cosine Similarity**
   - **HNSW** is used to quickly find candidate face embeddings that are close to the input embedding in terms of distance.
   - **Cosine similarity** is then used to fine-tune the similarity measure between the query embedding and the retrieved embeddings, ensuring high-accuracy face matching.

---

### **Summary**

- **HNSW Indexing** accelerates the process of finding approximate nearest neighbors by constructing a multi-layer graph and limiting the number of connections explored during the search.
- **Cosine Similarity** measures the angle between two vectors, making it ideal for tasks like face recognition, where the goal is to determine if two embeddings represent the same person based on their relative directions in high-dimensional space.
